{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/Gallery/ImageGalleryItem.js","components/Gallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","utils/mapper.js","components/App/App.js","servise/apiFeatch.js","index.js","components/Gallery/Gallery.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","value","setValue","className","styles","SearchForm","e","preventDefault","trim","type","Button","Label","Input","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","imageId","smallImg","onClick","id","image","src","alt","prototype","PropTypes","string","isRequired","number","func","ImageGallery","images","onModal","map","modalImg","arrayOf","shape","onClickLoadMore","loadButton","Modal","query","onCloseModal","EscCloseModal","event","key","useEffect","window","addEventListener","removeEventListener","Overlay","LoaderSpin","loader","color","height","width","mapper","hits","webformatURL","largeImageURL","App","setQuery","page","setPage","isLoading","setLoading","setImages","isModal","setModal","setModalImg","fetchImages","console","log","scrollTo","top","document","documentElement","scrollHeight","behavior","searchName","axios","get","imageApi","then","data","prevState","catch","error","finally","handleToggleModal","length","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1aa88251.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadButton\":\"Button_loadButton__2P7Cn\",\"Button\":\"Button_Button__3pUoK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__7TqJD\",\"Modal\":\"Modal_Modal__fFUPT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2XrIc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__14wKe\",\"SearchForm\":\"Searchbar_SearchForm__1yGD8\",\"Button\":\"Searchbar_Button__320Ot\",\"Label\":\"Searchbar_Label__1UDES\",\"Input\":\"Searchbar_Input__35B6l\"};","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Searchbar.module.css\";\n\nconst Searchbar = ({ onSubmit }) => {\n  const [value, setValue] = useState(\"\");\n\n  const handleChangeInput = ({ target: { value } }) => {\n    setValue(value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (value.trim()) {\n      onSubmit(value);\n      setValue(\"\");\n    }\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles.Button}>\n          <span className={styles.Label}>Search</span>\n        </button>\n\n        <input\n          className={styles.Input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChangeInput}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from \"react\";\nimport styles from \"./Gallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ imageId, smallImg, onClick }) => {\n  //   console.log(`imageId`, imageId);\n  return (\n    <li id={imageId}>\n      <img\n        className={styles.image}\n        src={smallImg}\n        alt=\"query\"\n        onClick={onClick}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.prototype = {\n  smallImg: PropTypes.string.isRequired,\n  imageId: PropTypes.number.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Gallery.module.css\";\n\nconst ImageGallery = ({ images, onModal }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(({ imageId, smallImg, modalImg }) => (\n        <ImageGalleryItem\n          key={imageId}\n          imageId={imageId}\n          smallImg={smallImg}\n          onClick={() => onModal(modalImg)}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.prototype = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      imageId: PropTypes.string.isRequired,\n      smallImg: PropTypes.string.isRequired,\n      modalImg: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n  onModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onClickLoadMore }) => (\n  <div className={styles.loadButton}>\n    <button className={styles.Button} onClick={() => onClickLoadMore()}>\n      Load more\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  onClickLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Modal.module.css\";\n\nconst Modal = ({ image, query, onCloseModal }) => {\n  const EscCloseModal = (event) => {\n    if (event.key === \"Escape\") {\n      onCloseModal();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", EscCloseModal);\n    return () => window.removeEventListener(\"keydown\", EscCloseModal);\n  });\n\n  const clickCloseModal = (e) => {\n    onCloseModal();\n  };\n\n  return (\n    <div className={styles.Overlay} onClick={clickCloseModal}>\n      <div className={styles.Modal}>\n        <img src={image} alt={query} />\n      </div>\n    </div>\n  );\n};\n\nModal.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  image: PropTypes.string,\n  query: PropTypes.string.isRequired,\n};\n\nexport default Modal;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport styles from \"./Loader.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst LoaderSpin = () => (\n  <div className={styles.loader}>\n    <Loader type=\"Hearts\" color=\"#00BFFF\" height={80} width={80} />\n  </div>\n);\n\nexport default LoaderSpin;\n","const mapper = (hits) => {\n  return hits.map(\n    ({ id: imageId, webformatURL: smallImg, largeImageURL: modalImg }) => ({\n      imageId,\n      smallImg,\n      modalImg,\n    })\n  );\n};\n\nexport default mapper;\n","import React, { useState, useEffect } from \"react\";\nimport Searchbar from \"../Searchbar\";\nimport ImageGallery from \"../Gallery\";\nimport Button from \"../Button\";\nimport Modal from \"../Modal\";\nimport Loader from \"../Loader\";\n\nimport * as imageApi from \"../../servise/apiFeatch\";\nimport mapper from \"../../utils/mapper\";\n\nimport \"./App.css\";\n\nconst App = () => {\n  const [query, setQuery] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [isLoading, setLoading] = useState(false);\n  const [images, setImages] = useState([]);\n  const [isModal, setModal] = useState(false);\n  const [modalImg, setModalImg] = useState(\"\");\n\n  useEffect(() => {\n    if (query === \"\") {\n      return;\n    }\n    fetchImages(query, page);\n    if (page > 1) {\n      console.log(`page`, page);\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }, [query, page]);\n\n  const fetchImages = (query, page) => {\n    setLoading(true);\n\n    imageApi\n      .fetchImg(query, page)\n      .then(({ data: { hits } }) =>\n        setImages((prevState) => [...prevState, ...mapper(hits)])\n      )\n      .catch((error) => console.log(`error`, error))\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  const handleToggleModal = (modalImg) => {\n    setModalImg(modalImg);\n    setModal(!isModal);\n  };\n\n  const handleSubmit = (query) => {\n    setQuery(query);\n    setImages([]);\n    setPage(1);\n  };\n\n  const onClickLoadMore = (e) => {\n    setPage((prevState) => prevState + 1);\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={handleSubmit} />\n      {!!images.length && (\n        <ImageGallery images={images} onModal={handleToggleModal} />\n      )}\n      {images.length >= 12 && !isLoading && (\n        <Button onClickLoadMore={onClickLoadMore} />\n      )}\n      {isModal && (\n        <Modal\n          image={modalImg}\n          query={query}\n          onCloseModal={handleToggleModal}\n        />\n      )}\n\n      {isLoading && <Loader />}\n    </>\n  );\n};\n\nexport default App;\n","import axios from \"axios\";\n\nconst API_KEY = \"21924211-a56ef8093bc4c324081574229\";\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst PER_PAGE = 12;\n\nexport const fetchImg = (searchName, page) =>\n  axios.get(\n    `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchName}&page=${page}&per_page=${PER_PAGE}&key=${API_KEY}`\n  );\n// console.log(`result`, result);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// import \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"Gallery_ImageGallery__1316s\",\"ImageGalleryItem\":\"Gallery_ImageGalleryItem__qMNLW\",\"image\":\"Gallery_image__3lOi3\"};"],"sourceRoot":""}